(function ClassDefinition(){var b=false,a=null;$$WP.Utilities.guaranteeExistence($$WP,"Upload.Models");var c=function UploadConfiguration(a){var b=this;a=a||{};b.WP$Common$Model(a);b.ContextData=jQuery.extend(true,{},b.ContextData);b.ViewTemplate=a.ViewTemplate||$$WP.Templates.Upload.UploadContainer;b.UploadCardTemplate=a.UploadCardTemplate||$$WP.Templates.Upload.UploadCard;b.DefaultStringNamespace=a.DefaultStringNamespace||"Upload";b.ViewerCsn=a.ViewerCsn;b.IsPhotoForPatientsChart=a.IsPhotoForPatientsChart};c.prototype={s_dataMembers:["AllowedImageAndDocumentExtensions","AllowedVideoExtensions","MaxAllowedImageSize","MaxAllowedVideoSize","MaxFilesAllowed","ContextData"],AllowedImageAndDocumentExtensions:a,AllowedVideoExtensions:a,MaxAllowedImageSize:a,MaxAllowedVideoSize:a,MaxFilesAllowed:a,ContextData:{},ViewerCsn:"",ViewTemplate:a,IsPhotoForPatientsChart:b,UploadCardTemplate:a,AttachContainerEventHandlers:a,AttachFileCardEventHandlers:a,DefaultStringNamespace:a,ConfirmationViewModel:a,RefreshViewOverride:a,MasterController:a,NeedsRedirect:b,RedirectTitle:a,RedirectHtml:a,UseGet:b,FromVBPage:b,HideMaxUploadsWarning:b,HideFileExtensions:b,ConfigUrl:a,UploadUrl:makeLink("DocumentUpload/UploadFile"),DeleteUrl:makeLink("DocumentUpload/DeleteFile"),EditUrl:makeLink("DocumentUpload/EditFileName"),onConfigStart:a,onUploadStart:a,onEditStart:a,onDeleteStart:a,onConfigSucess:a,onUploadSuccess:a,onDeleteSuccess:a,onEditSuccess:a,onConfigFail:a,onUploadFail:a,onDeleteFail:a,onEditFail:a,ConfirmFunction:a,IsFileAceptable:function IsFileAceptable(d,b){var a=this,e=(d||"").lastIndexOf("."),c="",f=a.AllowedExtensions;if(e>-1){c=d.substr(e+1).toUpperCase();if(f.indexOf(c)>-1){b=b/1024;return a.AllowedImageAndDocumentExtensions&&a.AllowedImageAndDocumentExtensions.indexOf(c)>-1&&a.MaxAllowedImageSize<b?2:a.AllowedVideoExtensions&&a.AllowedVideoExtensions.indexOf(c)>-1&&a.MaxAllowedVideoSize<b?3:0}}return 1},get AllowedExtensions(){var a=this,b=[];if(a.AllowedImageAndDocumentExtensions&&a.AllowedImageAndDocumentExtensions.length>0&&a.MaxAllowedImageSize>0)b=b.concat(a.AllowedImageAndDocumentExtensions);if(a.AllowedVideoExtensions&&a.AllowedVideoExtensions.length>0&&a.MaxAllowedVideoSize>0)b=b.concat(a.AllowedVideoExtensions);return b},get AllowedExtensionsForInput(){var a=this.AllowedExtensions;return a&&a.length>0?"."+a.join(",."):""},get AllowedDocumentsHelperText(){var f="@MYCHART@ALLOWEDVIDEOSIZE@",e="@MYCHART@ALLOWEDIMAGESIZE@",d="@MYCHART@ALLOWEDEXTENSIONS@",c="@MYCHART@MAXUPLOADS@",a=this,b="";$$WP.Strings.setDefaultNamespace(a.DefaultStringNamespace);$$WP.Strings.addMnemonic(c,a.MaxFilesAllowed);$$WP.Strings.addMnemonic(d,a.AllowedExtensions.join($$WP.Strings.get("listSeparator")));$$WP.Strings.addMnemonic(e,Math.floor(a.MaxAllowedImageSize*10/1024)/10);$$WP.Strings.addMnemonic(f,Math.floor(a.MaxAllowedVideoSize*10/1024)/10);if(a.MaxFilesAllowed===1)b=a.HideFileExtensions?$$WP.Strings.get("UploadInfoBubbleHelpTextOneFileNoExtensions"):$$WP.Strings.get("UploadInfoBubbleHelpTextOneFile");else b=a.HideFileExtensions?$$WP.Strings.get("UploadInfoBubbleHelpTextNoExtensions"):$$WP.Strings.get("UploadInfoBubbleHelpText");if(a.MaxAllowedImageSize>0)b+=$$WP.Strings.get("UploadInfoBubbleImageSizeHelpText");if(a.MaxAllowedVideoSize>0)b+=$$WP.Strings.get("UploadInfoBubbleVideoSizeHelpText");$$WP.Strings.removeMnemonic(f);$$WP.Strings.removeMnemonic(e);$$WP.Strings.removeMnemonic(d);$$WP.Strings.removeMnemonic(c);$$WP.Strings.clearDefaultNamespace();return b}};c.parse=function(a){return new c(a)};$$WP.Upload.Models.UploadConfiguration=c;c.extend($$WP.Common.Model,"WP$Upload$Models$UploadConfiguration")})()
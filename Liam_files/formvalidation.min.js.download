/*! Copyright (c) Epic Systems Corporation 2016 - 2019 */
(function WP$FormValidation$definition(){var eb=" data-validation-settings=",h="title",T="DisabledButtonToolTip",v="@MYCHART@BUTTONLABEL@",r="value",j="aria-label",p="data-old-aria-label",db=".section.questionsContainer",S="string",cb='input[type="radio"][name="',bb='"]:checked:visible',ab='input[type="checkbox"][name="',R="aria-invalid",l="data-invalid",Z="[data-invalid]:not([data-invalid-no-error])",Q="[data-validation-group]",H="']",P="data-validation-group",E='"]',O="name",Y="data-name",nb="InputTooHigh",mb="InputTooLow",e="",D="core.formvalidation",a=null,X=" does not have one of the allowed input types. Please fix, or update FormValidation.js to accomodate the new type.",N="email",C="tel",G="captcha",B="selectable",A="number",o="text",z="time",y="date",n="radio",m="checkbox",u="select",q=":visible",x="[data-invalid]",W="data-disable-if-invalid",g="true",V="data-clicked",M="[data-validation-group][data-invalid]",f="undefined",t="data-validation-settings",d=false,c=true,k="input",s={},U="input[data-validation-settings],select[data-validation-settings],textarea[data-validation-settings],.selectable [data-validation-settings],.mychart-captcha[data-validation-settings]",w="form, [data-validation-group]",I,kb=0,zb=function WP$FormValidation$s_initializeFramework(){var a=$afe.select("body");a.on("focusout input change",U,hb);a.on("validationUpdated",U,ub);a.on("click",".selectable [data-validation-settings]",hb);a.on("click",'form input[type="submit"]',wb);a.on("submit","form",tb);ib(a)},hb=function WP$FormValidation$s_validateInputCallback(a){L(a.currentTarget,a.type==="focusout"||a.type==="change"||a.type===k&&document.activeElement!==a.currentTarget,c)},ub=function WP$FormValidation$s_validationUpdatedCallback(b,a){L(b.currentTarget,d,c,d,a,c)},L=function WP$FormValidation$s_validateInput(m,k,j,l,g,h){var d,b,e,a;d=$afe.jq(m);b=d.safeAttr(t);if(typeof b===f)return;e=new i($.parseJSON(b));a=new F(d,e,k,j,l,h);a.validateInput();if(!g&&(a.valid!==a.initiallyValid||a.$form.is(M))){K(a.$form,c);$$WP.Utilities.UI&&$$WP.Utilities.UI.MatchColumnHeights()}},wb=function WP$FormValidation$s_flagClickedSubmitButton(a){$afe.jq(a.target).safeAttr(V,g)},tb=function WP$FormValidation$s_preventInvalidFormSubmission(b){var c,a,d;c=$afe.jq(b.target);a=c.find('input[type="submit"][data-clicked]');a.removeAttr(V);if(a.length!==0&&!a.get(0).hasAttribute(W))return;d=c.find(x).filter(q);if(d.length>0){b.preventDefault();b.stopImmediatePropagation()}},fb=function WP$FormValidation$s_getInputType(c){var b,a;b=c.get(0).nodeName.toLowerCase();a=c.safeAttr("type");if(b===u)return u;if(b===k&&a===m)return m;if(b===k&&a===n)return n;if(b===k&&a===y)return y;if(b===k&&a===z)return z;if(b==="textarea"||b===k&&(a===o||a==="password"||typeof a===f))return o;if(b===k&&a===A)return A;if(c.closest(".selectable, [data-validation-group], form").hasClass(B))return B;if(c.hasClass("mychart-captcha"))return G;if(b===k&&a===C)return C;if(b===k&&a===N)return N;else $$WP.Debug.logError(this.input+X)},lb=function WP$FormValidation$s_isLiteralInput(b){var a=fb(b);return a===u||a===m||a===n||a===C||a===o||a===z||a===y||a===A},Db=function WP$FormValidation$s_putInputCache(c){var b,a;b=c.closest(w);if(I)a=I.get(b[0]);a=a||[];a.push(c[0]);I.set(b[0],a)},Ab=function $WPFormValidation$s_getInputsFromCache(d,c){var b,a;if(I)b=I.get(d[0]);if(b){a=$afe.jq(b);if(c)a=a.filter(c)}return a},Cb=function $WPFormValidation$s_generateUniqueId(){var a;do{a="parent-form-gen-id_"+kb;kb++}while(!$afe.select("#"+a));return a},J=function WP$FormValidation$ValidationGroup(a){$.type(a)==="object"&&this._parseRawGroup(a)};J.prototype={allRequired:d,disableButtonsWhenEmpty:d,evaluateNestedGroups:d,evaluateParentGroups:d,name:a,_parseRawGroup:function WP$FormValidation$ValidationGroup$_parseRawGroup(b){var a;for(a in b)if(a in J.prototype)this[a]=b[a];else $$WP.Debug.logError("'"+a+"' is not a recognized option in the data-validation-group attribute")},toJSON:function WP$FormValidation$ValidationGroup$toJSON(){var b,a;b={};for(a in this)if(this[a]!==J.prototype[a])b[a]=this[a];return JSON.stringify(b)}};var i=function WP$FormValidation$ValidationSettings(a){$.type(a)==="object"&&this._parseRawSettings(a);this.stringsNamespace=$$WP.Strings.getNamespace(this.stringsNamespace||D)};i.prototype={required:d,nullValue:e,maxLength:a,showCharacterCounter:d,isUSZipCode:d,isEmail:d,isCurrency:d,isNumber:d,precision:0,min:a,max:a,isDate:d,isTime:d,minDate:a,maxDate:a,atLeastOneChecked:d,stringsNamespace:a,_invalidValues:a,_invalidValuesErrorStringName:a,_invalidValuesCustomError:a,_parseRawSettings:function WP$FormValidation$ValidationSettings$_parseRawSettings(d){var b=this,c;for(c in d)if(c in i.prototype)b[c]=d[c];else $$WP.Debug.logError("'"+c+"' is not a recognized option in the data-validation-settings attribute");b.stringsNamespace!==a&&b.stringsNamespace.toLowerCase().indexOf(D)!==0&&$$WP.Debug.logError("Custom namespaces for form validation messages should be sub-namespaces of Core.FormValidation. '"+b.stringsNamespace+"' is not valid.");if(b.isDate){if(b.minDate!==a)b.minDate=new Date(b.minDate);if(b.maxDate!==a)b.maxDate=new Date(b.maxDate)}},toJSON:function WP$FormValidation$ValidationSettings$toJSON(){var a,b;a={};for(b in this)if(this[b]!==i.prototype[b])a[b]=this[b];if(typeof a.minDate!==f)a.minDate=a.minDate.toISOString().substring(0,10);if(typeof a.maxDate!==f)a.maxDate=a.maxDate.toISOString().substring(0,10);if(a.stringsNamespace.name!==D)a.stringsNamespace=a.stringsNamespace.name;else delete a.stringsNamespace;return JSON.stringify(a)}};i.WholeNumber=new i({isNumber:c,min:0,precision:0});i.NaturalNumber=new i({isNumber:c,min:1,precision:0});i.Integer=new i({isNumber:c,precision:0});i.Required=new i({required:c});i.AtLeastOneChecked=new i({atLeastOneChecked:c});i.None=new i;var b=function WP$FormValidation$ValidationProblem(c,f,d,e){var a=this;a.priority=c;a.stringName=f;a.onlyDisplayIssueOnLeavingInput=d;a.customErrorMessage=e;b.priority2instance[c]=a};b.prototype={priority:a,stringName:a,onlyDisplayIssueOnLeavingInput:c,customErrorMessage:a};b.priority2instance={};b.empty=new b(1,"InputRequired");b.tooLong=new b(2,"InputTooLong");b.noneChecked=new b(3,"NoneChecked");b.notEmail=new b(4,"InputNotEmail");b.notCurrency=new b(5,"InputNotCurrency");b.currencyTooLow=new b(6,mb);b.currencyTooHigh=new b(7,nb);b.notNumber=new b(8,"InputNotNumber");b.notWholeNumber=new b(9,"InputNotWholeNumber");b.numberTooLow=new b(10,mb);b.numberTooHigh=new b(11,nb);b.notFormattedDate=new b(12,"InputNotFormattedDate");b.notDateInvalidMonth=new b(13,"InputNotDateInvalidMonth");b.notDateInvalidDay=new b(14,"InputNotDateInvalidDay");b.notDateInvalidYear=new b(15,"InputNotDateInvalidYear");b.dateTooEarly=new b(16,"InputTooEarly");b.dateTooLate=new b(17,"InputTooLate");b.notTime=new b(18,"InputNotTime");b.invalidCaptcha=new b(19,"InvalidCaptcha");b.notZIP=new b(20,"InputNotZIP");b.invalid=new b(98,"InputInvalid");b.groupInvalid=new b(99,"IncompleteGroup");var F=function WP$FormValidation$InputValidator(b,j,p,o,r,k){var d="aria-live",a=this,e,h;a.$input=b;a.input=b.get(0);a.validationSettings=j;a.asLeavingInput=p;a.updateAppearance=o;a.removeErrorsOnly=k;a.checkStructure=r;if(typeof a.validationSettings===f){e=b.safeAttr(t);if(typeof e===f)a.validationSettings=new i;else a.validationSettings=new i($.parseJSON(e))}a.inputName=b.safeAttr(Y)||b.safeAttr(O);a.$form=b.closest(w);a.$messageDisplay=a.$form.find('[data-message-display-for="'+a.inputName+E);a.nodeName=a.input.nodeName.toLowerCase();if(!a._checkProperStructure())return;a.$input.addToAttr("aria-describedby",a.inputName+"_message");a.$messageDisplay.length>0&&!a.$messageDisplay[0].hasAttribute(d)&&a.$messageDisplay.safeAttr(d,"polite");h=a.$form.safeAttr(P);if(typeof h===f)a.validationGroup=new J;else{a.validationGroup=new J($.parseJSON(h));a.$groupMessageDisplay=a.$form.find("[data-message-display-for='"+a.validationGroup.name+H);a.$groupMessageDisplay.length>0&&!a.$groupMessageDisplay[0].hasAttribute(d)&&a.$groupMessageDisplay.safeAttr(d,"polite")}a.inputValue=b.val();a.inputType=fb(a.$input);a.isLiteralInput=lb(a.$input);if(a.inputType===m)a.inputValue=a.input.checked===c&&b.is(q);else if(a.inputType===n)a.inputValue=a.$form.find('input[name="'+a.inputName+'"]:checked').val();else if(a.inputType===G)a.inputValue=b.find("*[id*=g-recaptcha-response]").first().val();if(a.$form.is(Q)){a.initiallyValid=!a.$input.is(x)&&!a.$form.is(Z);!a.initiallyValid&&b.safeAttr(l,g).safeAttr(R,g)}else a.initiallyValid=!a.$input.is(x);(a.validationSettings.required||a.validationSettings.atLeastOneChecked)&&b.safeAttr("aria-required",g)};F.prototype={$input:a,input:a,$form:a,validationSettings:a,validationGroup:a,asLeavingInput:c,updateAppearance:a,removeErrorsOnly:d,checkStructure:a,$messageDisplay:a,$groupMessageDisplay:a,nodeName:a,inputName:a,inputType:a,inputValue:a,initiallyValid:a,isLiteralInput:a,_domHasProperStructure:a,_highestPriorityProblem:a,valid:a,standardizedInputValue:a,validateInput:function WP$FormValidation$InputValidator$validateInput(){var b=this,k,i,e,p,f,h,j;if(b.checkStructure&&!b._domHasProperStructure)return;b._highestPriorityProblem=a;if(b.inputType===u)b._validateSelectInput();else if(b.inputType===m)b._validateCheckboxInput();else if(b.inputType===n)b._validateRadioInput();else if(b.inputType===o)b._validateTextInput();else if(b.inputType===y)b._validateDateInput();else if(b.inputType===z)b._validateTimeInput();else if(b.inputType===B)b._validateSelectableElement();else if(b.inputType===G)b._validateCaptcha();else if(b.inputType===A)b._validateNumberInput();else if(b.inputType===C)b._validatePhoneInput();else b._validateOtherInput();b.valid=b._highestPriorityProblem===a;if(b.valid)b._findInputsWithSameName().removeAttr(l).removeAttr(R);else b._findInputsWithSameName().safeAttr(l,g).safeAttr(R,g);if(b.$form.is(Q)){if(b.validationGroup.allRequired){k=b.$form.find(U).filter(q);e=[];for(f=0;f<k.length;f++){i=$afe.jq(k.get(f));p=i.safeAttr(Y)||i.safeAttr(O);$.inArray(p,e)<0&&e.push(p)}h=e.length;j=0;for(f=0;f<e.length;f++){i=b.$form.find(":input[name='"+e[f]+"'], [data-name='"+e[f]+H);if(b._checkIfHasValue(i))h=h-1;else if(!i.is("[optional-in-group]"))j=j+1}b._checkIfGroupInvalid(j>0&&h!==e.length||h===e.length&&b.validationGroup.disableButtonsWhenEmpty,h===e.length||j===0)}else b._checkIfGroupInvalid(d,c);b.validationGroup.evaluateNestedGroups&&b._evaluateNestedGroups();b.validationGroup.evaluateParentGroups&&b._evaluateParentGroups()}b._updateValidationDisplay()},_validateSelectInput:function WP$FormValidation$InputValidator$_validateSelectInput(){var c=this,d=a;if(c.$input.prop("multiple")){var e=c.inputValue===a||$.isArray(c.inputValue)&&c.inputValue.length===1&&c.inputValue[0]===c.validationSettings.nullValue;c._checkIfInvalid(c.validationSettings.required&&e,b.empty);c._checkIfInvalid(c.validationSettings.atLeastOneChecked&&e,b.noneChecked)}else c._checkIfInvalid(c.validationSettings.required&&c.inputValue===c.validationSettings.nullValue,b.empty);if(c._highestPriorityProblem===a&&c.validationSettings._invalidValues&&c.inputValue!==c.validationSettings.nullValue){if(c.validationSettings._invalidValuesErrorStringName)d=new b(98,c.validationSettings._invalidValuesErrorStringName);else d=b.invalid;c._checkIfInvalid(c.validationSettings._invalidValues.indexOf(c.inputValue)!==-1,d)}},_validateCheckboxInput:function WP$FormValidation$InputValidator$_validateCheckboxInput(){var a=this,c;a._checkIfInvalid(a.validationSettings.required&&!a.inputValue,b.empty);if(a.validationSettings.atLeastOneChecked&&!a.inputValue){c=a.$form.find(ab+a.inputName+bb);a._checkIfInvalid(c.length===0,b.noneChecked)}},_validateNumberInput:function WP$FormValidation$InputValidator$_validateNumberInput(){var d=this,l,f,h,j,g,k,m,n,i;l=d.inputValue.length;f=d.inputValue.trim();d.standardizedInputValue=f;d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.required&&l===0,b.empty);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.maxLength!==a&&l>d.validationSettings.maxLength,b.tooLong);d._checkIfInvalid(d._highestPriorityProblem===a&&d.inputValue!==e&&d.validationSettings.isUSZipCode&&!f.match(F.USZipCodeRegEx),b.notZIP);if(d._highestPriorityProblem===a&&d.validationSettings.isCurrency&&f.length>0){h=$$WP.I18N.parseCurrency(f);j=!isNaN(h);d._checkIfInvalid(d._highestPriorityProblem===a&&!j,b.notCurrency);if(j&&d.asLeavingInput&&d._highestPriorityProblem===a)d.standardizedInputValue=$$WP.I18N.formatNumber(h,$$WP.CurrentLocale.CurrencyDecimalPlaces,c);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.min!==a&&h<d.validationSettings.min,b.currencyTooLow);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.max!==a&&h>d.validationSettings.max,b.currencyTooHigh)}if(d._highestPriorityProblem===a&&d.validationSettings.isNumber&&f.length>0){g=$$WP.I18N.parseNumber(f);k=!isNaN(g);d._checkIfInvalid(d._highestPriorityProblem===a&&!k,b.notNumber);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.precision===0&&g%1!==0,b.notWholeNumber);if(k&&d.asLeavingInput&&d._highestPriorityProblem===a)d.standardizedInputValue=$$WP.I18N.formatNumber(g,d.validationSettings.precision);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.min!==a&&g<d.validationSettings.min,b.numberTooLow);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.max!==a&&g>d.validationSettings.max,b.numberTooHigh)}if(d._highestPriorityProblem===a&&d.validationSettings._invalidValues&&f.length>0){if(d.validationSettings._invalidValuesErrorStringName)i=new b(98,d.validationSettings._invalidValuesErrorStringName);else i=b.invalid;d._checkIfInvalid(d.validationSettings._invalidValues.indexOf(f)!==-1,i)}},_validateRadioInput:function WP$FormValidation$InputValidator$_validateRadioInput(){var d=this;d._checkIfInvalid(d.validationSettings.required&&typeof d.inputValue===f,b.empty);if(d.validationSettings.atLeastOneChecked&&!d.inputValue){$checkedRadioButtons=d.$form.find(cb+d.inputName+bb);d._checkIfInvalid($checkedRadioButtons.length===0,b.noneChecked)}if(d._highestPriorityProblem===a&&d.validationSettings._invalidValues){if(d.validationSettings._invalidValuesErrorStringName)customValidationProblem=new b(98,d.validationSettings._invalidValuesErrorStringName);else if(typeof d.validationSettings._invalidValuesCustomError===S&&d.validationSettings._invalidValuesCustomError!==e)customValidationProblem=new b(98,undefined,c,d.validationSettings._invalidValuesCustomError);else customValidationProblem=b.invalid;d._checkIfInvalid(c,customValidationProblem)}},_validateTextInput:function WP$FormValidation$InputValidator$_validateTextInput(){var d=this,j,f,g,i,k,m,l,h;j=d.inputValue.length;f=d.inputValue.trim();d.standardizedInputValue=f;d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.required&&j===0,b.empty);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.maxLength!==a&&j>d.validationSettings.maxLength,b.tooLong);d._checkIfInvalid(d._highestPriorityProblem===a&&d.inputValue!==e&&d.validationSettings.isUSZipCode&&!f.match(F.USZipCodeRegEx),b.notZIP);if(d.validationSettings.isEmail){d.standardizedInputValue=yb(f);f=d.standardizedInputValue}d._checkIfInvalid(d._highestPriorityProblem===a&&d.inputValue!==e&&d.validationSettings.isEmail&&!f.match(F.emailRegEx),b.notEmail);if(d._highestPriorityProblem===a&&d.validationSettings.isCurrency&&f.length>0){g=$$WP.I18N.parseCurrency(f);i=!isNaN(g);d._checkIfInvalid(d._highestPriorityProblem===a&&!i,b.notCurrency);if(i&&d.asLeavingInput&&d._highestPriorityProblem===a)d.standardizedInputValue=$$WP.I18N.formatNumber(g,$$WP.CurrentLocale.CurrencyDecimalPlaces,c);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.min!==a&&g<d.validationSettings.min,b.currencyTooLow);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.max!==a&&g>d.validationSettings.max,b.currencyTooHigh)}if(d._highestPriorityProblem===a&&d.validationSettings.isNumber&&f.length>0){k=$$WP.I18N.parseNumber(f);d._checkIfValidNumber(k)}d._highestPriorityProblem===a&&d.validationSettings.isDate&&f.length>=0&&d._checkIfValidDate(f,d.validationSettings.required);if(d._highestPriorityProblem===a&&d.validationSettings.isTime&&f.length>0){l=$$WP.I18N.parseTime(f);d._checkIfValidTime(l)}if(d._highestPriorityProblem===a&&d.validationSettings._invalidValues&&f.length>0){if(d.validationSettings._invalidValuesErrorStringName)h=new b(98,d.validationSettings._invalidValuesErrorStringName);else h=b.invalid;d._checkIfInvalid(d.validationSettings._invalidValues.indexOf(f)!==-1,h)}},_validatePhoneInput:function WP$FormValidation$InputValidator$_validatePhoneInput(){var f=this,d,g,h;d=f.inputValue.trim();while(d.substring(0,1)==="#")d=d.substring(1);f.standardizedInputValue=d;h=new RegExp("[-. ()]","g");d=d.replace(h,e);f._checkIfInvalid(f._highestPriorityProblem===a&&(d!==e||f.validationSettings.required===c)&&!$$WPUtil.isValidPhoneNumber(d),b.invalid);if(f._highestPriorityProblem===a&&f.validationSettings._invalidValues&&d.length>0){if(f.validationSettings._invalidValuesErrorStringName)g=new b(98,f.validationSettings._invalidValuesErrorStringName);else g=b.invalid;f._checkIfInvalid(f.validationSettings._invalidValues.indexOf(d)!==-1,g)}},_validateOtherInput:function WP$FormValidation$InputValidator$_validateOtherInput(){var c=this,e,d;e=c.inputValue.trim();if(c._highestPriorityProblem===a&&c.validationSettings._invalidValues&&e.length>0){if(c.validationSettings._invalidValuesErrorStringName)d=new b(98,c.validationSettings._invalidValuesErrorStringName);else d=b.invalid;c._checkIfInvalid(c.validationSettings._invalidValues.indexOf(e)!==-1,d)}},_checkIfValidNumber:function WP$FormValidation$InputValidator$_checkIfValidNumber(d){var c=this,e;e=!isNaN(d);c._checkIfInvalid(c._highestPriorityProblem===a&&!e,b.notNumber);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.precision===0&&d%1!==0,b.notWholeNumber);if(e&&c.asLeavingInput&&c._highestPriorityProblem===a)c.standardizedInputValue=$$WP.I18N.formatNumber(d,c.validationSettings.precision);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.min!==a&&d<c.validationSettings.min,b.numberTooLow);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.max!==a&&d>c.validationSettings.max,b.numberTooHigh)},_validateDateInput:function WP$FormValidation$InputValidator$_validateDateInput(){var c=this,f,d;if(c.input===document.activeElement)return;c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.required&&c.inputValue===e,b.empty);c._checkIfValidDate(c.inputValue,c.validationSettings.required);f=c.inputValue.trim();if(c._highestPriorityProblem===a&&c.validationSettings._invalidValues&&f.length>0){if(c.validationSettings._invalidValuesErrorStringName)d=new b(98,c.validationSettings._invalidValuesErrorStringName);else d=b.invalid;c._checkIfInvalid(c.validationSettings._invalidValues.indexOf(f)!==-1,d)}},_checkIfValidDate:function WP$FormValidation$InputValidator$_checkIfValidDate(f,h){var c=this,g;if(f===e&&!h)return;var d=new $$WP.I18N.Date(f,c.inputType);if(d.DateObject!==a&&!d.isValid()){c._checkIfInvalid(!d.DayOfMonth.isValid(),b.notDateInvalidDay);c._checkIfInvalid(!d.Month.isValid(),b.notDateInvalidMonth);c._checkIfInvalid(!d.Year.isValid(),b.notDateInvalidYear)}c._checkIfInvalid(d.DateObject===a,b.notFormattedDate);if(d.DateObject!==a){if(c.asLeavingInput&&c.inputType===o)if(d.isSpilledOver()||!d.Year.isValid())c.standardizedInputValue=f;else c.standardizedInputValue=$$WP.I18N.formatPatientGivenDate(d.DateObject);g=d.DateObject.getTime()}else return;c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.minDate!==a&&g<c.validationSettings.minDate.getTime(),b.dateTooEarly);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.maxDate!==a&&g>c.validationSettings.maxDate.getTime()+1,b.dateTooLate)},_validateTimeInput:function WP$FormValidation$InputValidator$_validateTimeInput(){var c=this,d;if(c.input===document.activeElement)return;if(c.inputValue===e){c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.required,b.empty);return}d=$$WP.I18N.parse24HrTime(c.inputValue);c._checkIfValidTime(d)},_checkIfValidTime:function WP$FormValidation$InputValidator$_checkIfValidTime(d){var c=this;c._checkIfInvalid(d===a,b.notTime);if(d!==a)if(c.asLeavingInput&&c.inputType===o)c.standardizedInputValue=$$WP.I18N.formatPatientGivenTime(d)},_validateSelectableElement:function WP$FormValidation$InputValidator$_validateSelectableElement(){var a=this,c;if(a.validationSettings.atLeastOneChecked&&!a.inputValue){c=a.$form.find("[data-name='"+a.inputName+"'].selected");a._checkIfInvalid(c.length===0,b.noneChecked)}},_validateCaptcha:function WP$FormValidation$InputValidator$_validateCaptcha(){var a=this.inputValue.trim();this._checkIfInvalid(this.validationSettings.required&&a.length===0,b.invalidCaptcha)},_evaluateNestedGroups:function WP$FormValidation$InputValidator$_evaluateNestedGroups(a){var b;if(!a)a=this.$form;b=a.find(M);if(b.length>0){a.safeAttr(l,g);return c}return d},_evaluateParentGroups:function WP$FormValidation$InputValidator$_evaluateParentGroups(){var d=this,h,c,b,a,e,f;h=d.$form;c=h.parents(w);if(c.length!==0)for(b=0;b<c.length;b++){a=$afe.jq(c[b]);e=new J($.parseJSON(a.safeAttr(P)||"{}"));if(e.evaluateNestedGroups)if(!d._evaluateNestedGroups(a)){f=d._findDirectChildInputs(a,x);if(d._hasVisibleElement(f))a.safeAttr(l,g);else a.removeAttr(l)}}},_findDirectChildInputs:function WP$FormValidation$InputValidator$_findDirectChildInputs(b,c){var a;a=Ab(b,c);if(!a)if($afe.select(db).length>0)a=b.find("[parent-form='"+b[0].id+H).filter(c);else{a=b.find(c);a=a.filter(function WP$FormValidation$checkIfFormIsValid$invalidInputsFilter(){return $afe.jq(this).closest(w).is(b)})}return a},_hasVisibleElement:function WP$FormValidation$InputValidator$_hasVisibleElement(b){for(var a=0;a<b.length;a++)if($afe.jq(b.get(a)).is(q))return c},_updateValidationDisplay:function WP$FormValidation$InputValidator$_updateValidationDisplay(){var d="data-invalid-reason",c=this,g,f,j,k,i,h;if(!c.updateAppearance)return;g=(c.inputValue||e)+e;i=c.validationSettings.maxLength||0;h=g.length;k={"@MYCHART@CHARACTERLIMIT@":{Value:i,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@CHARACTERSUSED@":{Value:h,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@CHARACTERSREMAINING@":{Value:i-h,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MINIMUM@":{Value:$$WP.I18N.formatNumber(c.validationSettings.min||0,c.validationSettings.precision),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MAXIMUM@":{Value:$$WP.I18N.formatNumber(c.validationSettings.max||0,c.validationSettings.precision),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@DATEFORMAT@":{Value:c._getDateFormatForDisplay(),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MINDATE@":{Value:$$WP.I18N.formatPatientGivenDate(c.validationSettings.minDate),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MAXDATE@":{Value:$$WP.I18N.formatPatientGivenDate(c.validationSettings.maxDate),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@TIMEFORMAT@":{Value:c._getTimeFormatForDisplay(),EncodingType:$$WP.Strings.EncodingTypes.None}};c.validationSettings.stringsNamespace.addMnemonics(k);if(c.validationSettings.isDate&&!c.validationSettings.minDate)c.validationSettings.minDate="1841-01-01";if(c.valid||c._highestPriorityProblem.onlyDisplayIssueOnLeavingInput&&!c.asLeavingInput){c.$input.removeClass("invalid");c.$messageDisplay.empty();c.$messageDisplay.removeAttr(d)}else if(!c.removeErrorsOnly&&!c.valid){c.$input.addClass("invalid");j=Number(c.$messageDisplay.safeAttr(d));var l=c.validationSettings.maxLength&&c.validationSettings.maxLength<h;if(j!==c._highestPriorityProblem&&c.asLeavingInput||l||c.$input.hasClass("togglebutton")){f=c._highestPriorityProblem.customErrorMessage;if(typeof f!==S||f===e)f=c.validationSettings.stringsNamespace.getString(c._highestPriorityProblem.stringName);c.$messageDisplay.empty();c.$messageDisplay.safeAppend($$WP.SimpleTemplates.ValidationMessage(f));c.$messageDisplay.safeAttr(d,c._highestPriorityProblem)}}c.valid&&c.validationSettings.showCharacterCounter&&!c.asLeavingInput&&c.input===document.activeElement&&$$WP.Strings.setDisplayText(c.$messageDisplay.get(0),"CharacterCounter",c.validationSettings.stringsNamespace);if(c.standardizedInputValue!==a&&c.asLeavingInput){c.$input.val(c.standardizedInputValue);if(c.$input.hasClass("slidervalue"))(c.standardizedInputValue===e&&c.standardizedInputValue!==g||c.standardizedInputValue!==e&&$$WP.I18N.parseNumber(c.standardizedInputValue)!==$$WP.I18N.parseNumber(g))&&c.$input.trigger("updateslider")}if(c.$form.is(Q)){if(c.$form.is(Z)){f=c.validationSettings.stringsNamespace.getString(b.groupInvalid.stringName);c.$groupMessageDisplay.empty();c.$groupMessageDisplay.safeAppend($$WP.SimpleTemplates.ValidationMessage(f));c.$groupMessageDisplay.safeAttr(d,b.groupInvalid)}else c.$groupMessageDisplay.empty();c.valid=c.valid&&!c.$form.is(x)}c.validationSettings.stringsNamespace.clearMnemonics()},_checkIfInvalid:function WP$FormValidation$InputValidator$_checkIfInvalid(c,b){if(c&&(this._highestPriorityProblem===a||this._highestPriorityProblem.priority>b.priority))this._highestPriorityProblem=b},_checkIfGroupInvalid:function WP$FormValidation$InputValidator$_checkIfGroupInvalid(e,d){var a="data-invalid-no-error",c,b=this.$form;if(e){b.safeAttr(l,g);if(d)b.safeAttr(a,g);else b.removeAttr(a)}else{c=this._findDirectChildInputs(b,"input[data-invalid], select[data-invalid], textarea[data-invalid], .selectable [data-invalid]");if(this._hasVisibleElement(c)){b.safeAttr(l,g);d&&b.safeAttr(a,g)}else b.removeAttr(l).removeAttr(a)}},_checkIfHasValue:function WP$FormValidation$InputValidator$_checkIfHasValue(b){var a=fb(b.first());if(a===u)return b.val()!==$.parseJSON(b.safeAttr(t)).nullValue;if(a===m||a===n)return b.is(":checked");if(a===o||a===y||a===z||a===A||a===C||a===N)return b.val().length>0;if(a===B)return b.hasClass("selected");if(a===G)return b.find("#g-recaptcha-response").val().length>0;else $$WP.Debug.logError(this.input+X)},_getDateFormatForDisplay:function WP$FormValidation$InputValidator$_getDateFormatForDisplay(){return $$WP.I18N.DateFormat.toLowerCase().replace(/d+/g,this.validationSettings.stringsNamespace.getString("DD")).replace(/m+/g,this.validationSettings.stringsNamespace.getString("MM")).replace(/y+/g,this.validationSettings.stringsNamespace.getString("YYYY"))},_getTimeFormatForDisplay:function WP$FormValidation$InputValidator$_getTimeFormatForDisplay(){return $$WP.I18N.TimeFormat.toLowerCase().replace(/h+/g,this.validationSettings.stringsNamespace.getString("HH")).replace(/m+/g,this.validationSettings.stringsNamespace.getString("MI")).replace(/t+/g,this.validationSettings.stringsNamespace.getString("TT"))},_checkProperStructure:function WP$FormValidation$InputValidator$_checkProperStructure(){var g="maxlength",e='"].required',a=this,b,k,j,i,h;if(!a.checkStructure||a._domHasProperStructure)return c;b=c;if(typeof a.inputName===f){$$WP.Debug.logError(a.input+" needs to specify the 'name' or 'data-name' attribute");b=d}if(a.$messageDisplay.length===0){$$WP.Debug.logError(a.input+" needs to have a message display element specified using the data-message-display-for attribute.");b=d}if(a.$form.length===0){$$WP.Debug.logError(a.input+" needs to be in a <form> or validation-group to make use of the form validation framework.");b=d}if(a.validationSettings.required&&typeof a.inputName!==f&&lb(a.$input)){k=a.$form.find('label[for="'+a.$input.safeAttr("id")+e);if(k.length===0){j=a.$input.closest("fieldset").find("legend.required");if(j.length===0){i=a.$input.closest('[role="radiogroup"]');h=a.$form.find('[id="'+i.safeAttr("aria-labelledby")+e);if(h.length===0){$$WP.Debug.logError(a.input+" is required, but no associated <label> or <legend> element has the 'required' CSS class");b=d}}}}a.validationSettings.isNumber&&!a.input.hasAttribute(g)&&a.$input.safeAttr(g,15);a._domHasProperStructure=b;return b},_findInputsWithSameName:function WP$FormValidation$InputValidator$_findInputsWithSameName(){var a=this,b=$();if(a.inputType===m)b=a.$form.find(ab+a.inputName+'"], input[type="checkbox"][data-name="'+a.inputName+E);else if(a.inputType===B)b=a.$form.find('[name="'+a.inputName+'"], [data-name="'+a.inputName+E);else if(a.inputType===u)b=a.$form.find('select[name="'+a.inputName+'"], select[data-name="'+a.inputName+E);else if(a.inputType===n)b=a.$form.find(cb+a.inputName+'"], input[type="radio"][data-name="'+a.inputName+E);return b.add(a.$input)}};F.USZipCodeRegEx=/^(\d{5}(-?\d{4})?)$/;F.emailRegEx=/^[A-Za-z0-9\xC0-\xFFƒŠŒŽšœžŸ._$!#&'*/=?^`{|}~%+-]{1,64}@[A-Za-z0-9\xC0-\xFFƒŠŒŽšœžŸ.-]+\.[A-Za-z\xC0-\xFFƒŠŒŽšœžŸ]{2,18}$/;var ib=function WP$FormValidation$initializeDOMSubtree(j,v,s){var h="placeholder",g,b,k,a,r,l,u,p,i=d;I=new Map;g=j.find(U);for(b=0;b<g.length;b++){k=g.get(b);a=$afe.jq(k);l=a.safeAttr(O);p=a.safeAttr("type");if(s){if(l===u){if(p===n||i)continue}else i=d;if(p===m&&a.is(q))i=c}if(k.type===o&&$.parseJSON(a.safeAttr(t)).isDate===c)a.attr(h)!==$$WP.I18N.getDateFormatForDisplay()&&a.safeAttr(h,$$WP.I18N.getDateFormatForDisplay());Db(a);r=typeof a.safeAttr("data-initially-invalid")!==f;L(g.get(b),d,v||r,c,c);u=l}if(g.length>0){I.forEach(function(d,a){if(s)for(b=0;b<d.length;b++){if(a.id===e)a.id=Cb();$afe.jq(d[b]).safeAttr("parent-form",a.id)}K($afe.jq(a),c)});$$WP.Utilities.UI&&$$WP.Utilities.UI.MatchColumnHeights()}j.is(w)&&K(j,c);I.clear()},K=function WP$FormValidation$checkIfFormIsValid(g,x){var i="disabled",l,b,n,u,s,t;if(g.length===0){$$WP.Debug.logError("Inputs need to be in a <form> or validation-group to make use of the form validation framework");return d}if($afe.select(db).length>0)l=g.find("[data-invalid]:not([data-invalid-ignore])[parent-form='"+g.safeAttr("id")+H).filter(q);else{l=g.find("[data-invalid]:not([data-invalid-ignore])").filter(q);l=l.filter(function WP$FormValidation$checkIfFormIsValid$invalidInputsFilter(){return $afe.jq(this).parent().closest(w).is(g)})}n=g.is(M);if(x){b=jb(g);if(b.length===0)$$WP.Debug.logError("Buttons to save or continue the workflow need to be marked with the data-disable-if-invalid property to prevent submission of invalid inputs.");else if(b.filter(function WP$FormValidation$checkIfFormIsValid$buttonsFilter(){return $afe.jq(this).closest(w).is(g)}).length===0)if(!n)u=!K(g.parents(w),d);$$WP.Strings.setDefaultNamespace(D);var k=e,o=e;if(l.length>0||n||u){b.addClass(i);b.prop(i,c);for(var m=0;m<b.length;m++){var a=$afe.jq(b[m]);!a.hasClass(i)&&a.safeAttr(p,a.safeAttr(j));o=a.safeAttr(r)||a.text();$$WP.Strings.addMnemonic(v,o,e);k=$$WP.Strings.getForTemplate(T).toString();(!a.safeAttr(h)||a.safeAttr(h)===a.safeAttr(r))&&a.safeAttr(h,k);a.safeAttr(j,k);$$WP.Strings.removeMnemonic(v)}}else{b.removeClass(i);b.prop(i,d);for(var m=0;m<b.length;m++){var a=$afe.jq(b[m]);o=a.safeAttr(r)||a.text();$$WP.Strings.addMnemonic(v,o,e);k=$$WP.Strings.getForTemplate(T).toString();if(!a.safeAttr(h)||a.safeAttr(h)===k)a.safeAttr(r)?a.safeAttr(h,a.safeAttr(r)):a.removeAttr(h);if(!a.safeAttr(j)||a.safeAttr(j)===k)if(a.safeAttr(p)){a.safeAttr(j,a.safeAttr(p));a.removeAttr(p)}else a.safeAttr(h)?a.safeAttr(j,a.safeAttr(h)):a.removeAttr(j);$$WP.Strings.removeMnemonic(v)}}$$WP.Strings.clearDefaultNamespace()}s=g.safeAttr(P);t=typeof s!==f&&$.parseJSON(s).evaluateParentGroups;t&&K(g.parents(w),c);return l.length!==0?d:n?d:c},vb=function WP$FormValidation$updateButtonAfterValidation(b,g,k,f,q,m){var i,l;l=b.safeAttr(W);if(typeof l===typeof undefined||l===d){console.error("updateButtonAfterValidation should only be called on button which has data-disable-if-invalid attribute.");return}if(g===undefined||g===e||g===a){console.error("updateButtonAfterValidation should always expect a button value.");return}b.safeAttr(r,g);i=b.safeAttr(p);if(i!==undefined&&i!==e&&i!==a)if(f!==undefined&&f!==e&&f!==a)b.safeAttr(p,f);else if(m===c)b.removeAttr(p);else b.safeAttr(p,g);$$WP.Strings.setDefaultNamespace(D);var o=b.safeAttr(r)||b.text();$$WP.Strings.addMnemonic(v,o,e);var n=$$WP.Strings.getForTemplate(T).toString();$$WP.Strings.removeMnemonic(v);$$WP.Strings.clearDefaultNamespace();if(b.safeAttr(j)===n)return;if(q===c)b.removeAttr(h);else if(k!==undefined&&k!==e&&k!==a)b.safeAttr(h,k);else b.safeAttr(h,g);if(m===c)b.removeAttr(j);else if(f!==undefined&&f!==e&&f!==a)b.safeAttr(j,f);else b.safeAttr(j,g)},jb=function WP$FormValidation$getButtonsToModify(b){var a;if(b.length===0)return b;a=b.find("[data-disable-if-invalid]");a=a.filter(function WP$FormValidation$checkIfFormIsValid$buttonsFilter(){return $afe.jq(this).closest(w).is(b)});return a.length===0?jb(b.parents(w)):a},Bb=function WP$FormValidation$addValidationError(b,h,g){var e,a;if(b.length===0){$$WP.Debug.logError("Cannot add error without input");return d}e=b.safeAttr(t);if(typeof e===f)a=new i;else a=new i($.parseJSON(e));a._invalidValues=a._invalidValues||[];a._invalidValues.push(b.val());a._invalidValuesErrorStringName=h;a._invalidValuesCustomError=g;b.safeAttr(t,a.toJSON());L(b,c,c)},sb=function WP$FormValidation$resetValidationError(b,a){L(b,c,a)},yb=function WP$FormValidation$removeSmartApostrophes(a){a=a.replace("‘","'");a=a.replace("’","'");return a},pb=function WP$FormValidation$Handlebars$generateValidationSettingsAttribute(b){var a;a=eb+b.toJSON()+" ";return a},gb=function WP$FormValidation$Handlebars$generateMessageDisplayForAttribute(a){return' data-message-display-for="'+a+'"'},xb=function WP$FormValidation$Handlebars$generateMessageDisplay(d,a){var c,b;c=' id="'+d+'_message" ';b=' aria-live="polite" ';if(typeof a!==S)a=e;if(a.indexOf('class="')===-1)a+=' class="messagedisplay" ';return new Handlebars.SafeString("<div"+c+b+gb(d)+a+"></div>")},qb=function WP$FormValidation$Handlebars$generateDisableIfInvalidAttribute(){return" data-disable-if-invalid "},rb=function WP$FormValidation$Handlebars$generateValidationGroupAttribute(a){return" data-validation-group="+a.toJSON()},ob=function WP$FormValidation$Handlebars$generateValidationRequiredAttribute(){return eb+i.Required.toJSON()},Eb=function WP$FormValidation$resetReCaptcha(){L($afe.select(".mychart-captcha"),d,c,d)};s.initializeDOMSubtree=ib;s.checkIfFormIsValid=K;s.updateButtonAfterValidation=vb;s.addValidationError=Bb;s.resetValidationErrorForAnInput=sb;s.ValidationSettings=i;s.ValidationProblem=b;s.ValidationGroup=J;s.InputValidator=F;s.Handlebars={validationSettingsAttribute:pb,messageDisplay:xb,messageDisplayForAttribute:gb,disableIfInvalidAttribute:qb,validationGroupAttribute:rb,validationRequiredAttribute:ob};s.ResetReCaptcha=Eb;$$WP.FormValidation=s;$afe.onDocumentReady(zb)})()
function toggleChartGraph(d,e){var c="none",b,a;b=document.getElementById(d);a=document.getElementById(e);if(b!==null&&a!==null){if(a.style.display===c){b.style.display=c;a.style.display="block"}else{b.style.display="block";a.style.display=c}$afe.jq(window).trigger("matchColumnHeights")}}function toggleDatesAsRowsOrColumns(d){var c=true,a,b;a=document.getElementById(d+"tallchart1");b=document.getElementById(d+"tallchart2");if(a.checked==c){a.checked=false;b.checked=c}else if(b.checked==c){a.checked=c;b.checked=false}document.getElementById(d).submit()}function hndlSrsButnClk(h,c,e){var a=false,f,d,g,b;if(h===null)return a;f=c+"_"+(e===1?"selectnone":"selectall");d=document.getElementById(f);if(d===null)return a;g=c+"_updategraph";b=document.getElementById(g);if(b===null)return a;disableBtn(h);enableBtn(d);if(e===1)enableBtn(b);else disableBtn(b);if(e===1)setCheckboxesByPrefix(c+"_srsChk");else unsetCheckboxesByPrefix(c+"_srsChk");return a}function hndlSrsChkBxClick(c){var b,a,d;b=document.getElementById(c+"_selectall");a=document.getElementById(c+"_selectnone");d=document.getElementById(c+"_updategraph");if(b===null||a===null||d===null)return;switch(statusOfCheckboxesByPrefix(c+"_srsChk")){case 1:enableBtn(b);disableBtn(a);disableBtn(d);break;case 2:enableBtn(b);enableBtn(a);enableBtn(d);break;case 3:disableBtn(b);enableBtn(a)}}function hndlCGDataFieldKeyDown(b,d,c,f,e){var a;if(window.event)a=window.event.keyCode;else if(b.which)a=b.which;if(b.shiftKey&&a===16||a===9)return;hndlCGFldActivate(d,c,f,e)}function hndlCGFldActivate(c,b,e,d){var a;activateFieldsByIds(c);deactivateFieldsByIds(b);cgUpdateSelectionString(d);cgUpdateFormValidationForIds(c,b,e);a=document.getElementById(e+"_filter");if(a===null)return;$afe.jq(a).safeAttr("value",d)}function cgUpdateFormValidationForIds(n,m,o){var l="[data-message-display-for=",k="data-invalid",j="currentSelection",i="aria-describedby",f="data-validation-settings",c="backup-data-validation-settings",e=null,b,g,d,a,h=$afe.jq(document.getElementById(o));if(n!==e)g=n.split(",");if(g!==e)for(b=0;b<g.length;b=b+1){a=$afe.jq(document.getElementById(g[b]));if(a.safeAttr(c)){a.safeAttr(f,a.safeAttr(c));a.removeAttr(c)}a.addToAttr(i,j)}if(m!==e)d=m.split(",");if(d!==e)for(b=0;b<d.length;b=b+1){a=$afe.jq(document.getElementById(d[b]));if(a.safeAttr(c)!==a.safeAttr(f)){a.safeAttr(k)==="true"&&a.val("");a.safeAttr(c,a.safeAttr(f));a.removeClass("invalid");a.removeAttr(k);a.removeAttr(f);h.find(l+d[b]+"]").empty();a.safeAttr("optional-in-group")!=="true"&&h.find(l+o+"_groupValidation]").empty();a.removeFromAttr(i,j)}}$$WP.FormValidation.initializeDOMSubtree(h)}function cgUpdateSelectionString(b){var a=$afe.jq(document.getElementById("currentSelection"));if(b==="1")a.text(a.safeAttr("daterangetext"));else a.text(a.safeAttr("recentvaluetext"))}function handleCGSeriesSelShow(a){var b=null,c;if(typeof a!=="string")return false;c=document.getElementById(a+"_serSelWrap");if(c===b)return false;showElement(b,a+"_serSel");showElement(b,a+"_serSel_hide");hideElement(b,a+"_serSel_show");removeClassNames(c,"hide");return false}function handleCGSeriesSelHide(a){var b=null,c;if(typeof a!=="string")return false;c=document.getElementById(a+"_serSelWrap");if(c===b)return false;hideElement(b,a+"_serSel");hideElement(b,a+"_serSel_hide");showElement(b,a+"_serSel_show");c.className=c.className+" hide";return false}function cgClndrCallbackFactory(a){return function(f,d,e){var b=false,c=document.getElementById(a);if(c){c.holdErrors=b;c.openingCalendar=b;if(f&&!isNaN(d)&&d>-1&&d<12&&e){c.value=formatDate(new Date(f,d,e));if(document.createEvent)c.click=function(){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",true,true,this.ownerDocument.defaultView,1,0,0,0,0,b,b,b,b,0,null);this.dispatchEvent(a)};c.click()}}}}function loadGraphs(){var c,a,b,d;c=document.getElementsByTagName("form");if(c!==null)for(a=0;a<c.length;a=a+1){b=c[a];if(b!==null)if(b.className==="graphXmlForm"){d=b.getAttribute("name");getGraphHtml(d,2)}}}function getGraphHtml(a,b){getCSRFTokenAsQS(function chartGraph$getCSRFTokenAsQS(e){var l="invisibleBlockContainer",k="_container",i,d,v,g,f,j,c,s,B,w,y,h,r,t,z,n,m,x,q,o,A,p,u;if(typeof a==="undefined"||a.length===0)return true;i=document.getElementById(a);d=i.elements.graphPrefix.value;f=parseInt(i.elements.width.value,10)+2;j=parseInt(i.elements.height.value,10)+2;p=i.elements.forceHighContrast;if(p)u=p.value.toLowerCase()=="true";c=i.elements.graphXml.value;g=document.getElementById(d+k);if(g===null)return false;h=g.offsetWidth;if(h<=0){A=$afe.select("#"+d+k);o=A.parents(".hidden");o.addClass(l);h=g.offsetWidth;o.removeClass(l)}if(isDataTile()&&h>0&&h<f){t=h/(f-2);r=Math.round((f-2)*t);q=Math.round((j-2)*t);n=c.indexOf("width%3D%22");z=c.indexOf("%22",n+11);m=c.indexOf("height%3D%22");x=c.indexOf("%22",m+12);if(n>-1&&m>-1){c=c.substring(0,n+11)+r+c.substring(z);c=c.substring(0,m+12)+q+c.substring(x);f=r+2;j=q+2}}e=e+"&graphPrefix="+d;e=e+"&graphXml="+encodeURIComponent(c);if($$WP.Utilities.UI.IsHighContrast()||u)e=e+"&highContrast=1";v=function(c){var e="UI.ChartGraph",h,i,l,k;k='<p class="errmsg">'+getErrorForScreenReader()+$$WP.Strings.get("GraphLoadErr",e)+"</p>";$afe.jq(g).empty();l=new RegExp(d+"msChart_graphPanel");if(c.match(l)){if(b>0)y="getGraphHtml('"+a+"', "+(b-1)+");";w="createGraphCanvas('"+d+"', "+f+", "+j+");";c=c.replace(/<img /i,'<img onload="'+w+'" onerror="'+y+'" ');c=c.replace(/src=".*(graphing\/ChartImg\.axd[^"]*)"/i,'src="'+makeLink("$1")+'"');h=WP.DOM.Create.tag("div","cgImgContainer",d+"_imgContainer","",c)}else{h=WP.DOM.Create.tag("div","alert","","",k);if(B){i=WP.DOM.Create.tag("div","hidden grapherror","","",c);g.appendChild(i)}}h.appendChild(cgTooltipDiv(d));g.appendChild(h);setupImageMapAreas(d);s=document.getElementById(d+"msChart");s!==null&&$afe.jq(s).safeAttr("alt",$$WP.Strings.get("GraphImgAlt",e)).safeAttr("title","").css({"min-width":f,"min-height":j});$afe.jq(window).trigger("matchColumnHeights")};$.ajax({url:makeLink("graphing/Graph.aspx"),data:e,method:"POST",success:v})})}function createGraphCanvas(d,h,l){var i="_container",b=true,a,e,c,g,k,j,f,m;if(!WP.DOM.Browser.isIE&&!WP.DOM.Browser.isEdge)return b;a=WP.DOM.Create.tag("canvas","graphCanvas",d+"_canvas");if(!a||typeof a.getContext!=="function"){if(WP.DOM.Browser.IEDocMode<9){f=document.getElementById("printerfriendlylink");if(f)f.style.visibility="hidden";c=document.getElementById(d+i);if(!c)return b;c.className="hideonpaper"}return b}a.width=h;a.height=l;j=WP.DOM.Create.tag("p","","","",$$WP.Strings.get("CanvasDescription","UI.ChartGraph"));a.appendChild(j);g=document.getElementById(d+"_imgContainer");if(!g)return b;a.style.position="absolute";a.style.width=h+"px";a.style.height=l+"px";a.style.left="50%";a.style.marginLeft=h/-2+"px";a.style.top="0";c=document.getElementById(d+i);if(!c)return b;c.style.position="relative";$afe.jq(a).safeInsertBefore(g);e=document.getElementById(d+"msChart");if(!e)return b;k=a.getContext("2d");k.drawImage(e,0,0);e.style.opacity=0}function cgTooltipDiv(a){var b='<div id="',d,c;a=a+"msChart";c=b+a+'_ttSeriesNameDiv" class="ttSeriesNameDiv"></div>'+b+a+'_ttValueDiv" class="ttValueDiv">'+b+a+'_ttUpperValDiv" class="ttUpperValDiv"></div>'+b+a+'_ttLowerValDiv" class="ttLowerValDiv"></div></div>'+b+a+'_ttDetailsDiv" class="ttDetailsDiv"></div>'+b+a+'_ttDateTimeDiv" class="ttDateTimeDiv"></div>'+b+a+'_ttMessageDiv" class="ttMessageDiv"></div>';d=WP.DOM.Create.tag("div","tooltipDiv card noprint",a+"_tooltipDiv","",c);return d}var cgIsMouseIn=false;function setupImageMapAreas(l){var e,g,a,b,f,k,j,i,h,d,c;e=document.getElementById(l+"msChartImageMap");if(e===null)return;g=e.getElementsByTagName("area");for(c=0;c<g.length;c=c+1){a=g[c];$afe.jq(a).safeAttr("title","").safeAttr("alt","");f=a.shape.toLowerCase()==="rect";k=a.shape.toLowerCase()==="circle";if(f||k){b=a.coords.split(",");i=b[0];j=b[1];if(f){h=b[2]-i;d=b[3]-j}else h=d=b[2]*2;$afe.jq(a).safeAttr("l",i).safeAttr("t",j).safeAttr("w",h).safeAttr("h",d)}}}function stt(d,z){var D="leftside",C="-10000px",B="underline",A="_ttMessageDiv",a=null,e,b,t,E,F,i,f,q,j,x,c,r,w,h,p,u,l,g,v,s,n,o,k,y,m;if(!cgIsMouseIn){cgIsMouseIn=true;document.body.style.cursor="default";e=document.getElementById(d+"_tooltipDiv");z=d+"_"+z;b=document.getElementById(z);if(e!==a&&b!==a){t=b.getAttribute("l")-0;E=b.getAttribute("t")-0;F=b.getAttribute("w")-0;i=b.getAttribute("tip");if(i!==a){f=document.getElementById(d+A);if(f!==a){dangerou$.setHtml(f,i);showElement(f)}}else{q=b.getAttribute("sn");j=document.getElementById(d+"_ttSeriesNameDiv");if(j!==a)if(q!==a){dangerou$.setHtml(j,q);showElement(j)}else hideElement(j);x=b.getAttribute("y0");if(x!==a){c=document.getElementById(d+"_ttUpperValDiv");if(c!==a){dangerou$.setHtml(c,x);showElement(c);removeClassNames(c,B);r=b.getAttribute("y0u");r!==a&&dangerou$.setHtml(c,c.innerHTML+" "+r)}}w=b.getAttribute("y1");if(w!==a){h=document.getElementById(d+"_ttLowerValDiv");if(h!==a){dangerou$.setHtml(h,w);showElement(h);p=b.getAttribute("y1u");p!==a&&dangerou$.setHtml(h,h.innerHTML+" "+p);if(c!==a)if(!containsClassName(c,B))c.className=c.className+" underline"}}u=b.getAttribute("x");if(u!==a){l=document.getElementById(d+"_ttDateTimeDiv");if(l!==a){dangerou$.setHtml(l,u);showElement(l)}}y=b.getAttribute("dtl");if(y!==a){m=document.getElementById(d+"_ttDetailsDiv");if(m!==a){dangerou$.setHtml(m,y);showElement(m)}}i=b.getAttribute("msg");if(i!==a){f=document.getElementById(d+A);if(f!==a){dangerou$.setHtml(f,i);showElement(f)}}}g=e.style;g.left=C;g.top=C;g.display="block";v=e.offsetWidth-0;s=e.offsetHeight-0;n=document.getElementById(d);o=t;k=E;if(o+v>n.width){o=t-v;if(!containsClassName(e,D))e.className=e.className+" leftside"}else removeClassNames(e,D);if(k+s+1>n.height)k-=k+s-n.height+1;g.left=o+"px";g.top=k+"px"}}}function htt(b){var a;cgIsMouseIn=false;a=document.getElementById(b+"_tooltipDiv");if(a!==null){a.style.display="none";clearDiv(a)}}function clearDiv(c){var a,b;b=c.getElementsByTagName("div");if(b===null||b.length===0){$afe.jq(c).empty();hideElement(c)}else for(a=0;a<b.length;a=a+1)b[a]!==null&&clearDiv(b[a])}
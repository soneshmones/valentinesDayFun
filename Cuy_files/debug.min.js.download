window.onerror=function wp$globalErrHandler(d,f,g,e,b){var c="Stack Trace for ",a;if(d)a='"'+d+'"';else a="unhandled exception";if(b&&b.stack)try{if(WP&&WP.DOM&&WP.DOM.Browser.isIE||WP.DOM.Browser.isEdge){console.groupCollapsed(c+a);console.error(b.stack);console.groupEnd()}else{console.groupCollapsed(c+a,"");console.error(b.message);console.groupEnd()}$$WP.Debug._errorCount++;$$WP.Debug._updateErrorCountDisplay()}catch(h){}};$$WP=$$WP||{};$$WP.Utilities=$$WP.Utilities||{};$$WP.Utilities.UI=$$WP.Utilities.UI||{};$$WP.Utilities.UI.OnUIFrameworkLoaded&&$$WP.Utilities.UI.OnUIFrameworkLoaded(function(){!$$WP.Utilities.UI.IsMobile&&$$WP.Debug.CheckForStringResources&&$.ajax({url:makeLink("/Tests/CheckStringResources"),dataType:"json",global:false,error:function(){$$WP.Debug.log("Debug: Couldn't check for missing string resources. /Tests/CheckStringResources is not available.")},success:function(b){var d="<br/>",a="",c,e,f;if(!b.IsSuccess){a+='<div id="missingStringsWarning" style="position: fixed; bottom:10px; left:10px; z-index: 1000000; background-color: #dbff00; border: 2px solid black; color: black; width: auto; padding: 5px; max-height: 50%; overflow-y: scroll;">';a+='<p>Incorrect strings detected in .resx files!!! <a href="#" style="color:black;" data-function="dismiss">[X]</a></p>';a+='<p><a href="#" style="color:black;" data-function="toggleDetails">[+/- details]</a></p>';a+='<div data-contents="details" class="jqHidden">';if(b.MissingStrings&&b.MissingStrings.length>0){a+="~ MISSING ~<br/>";for(c=0;c<b.MissingStrings.length;c++)a+=b.MissingStrings[c]+d}if(b.ModifiedStrings&&b.ModifiedStrings.length>0){a+="~ MODIFIED ~<br/>";for(c=0;c<b.ModifiedStrings.length;c++)a+=b.ModifiedStrings[c]+d}if(b.ExtraStrings&&b.ExtraStrings.length>0){a+="~ UNUSED ~<br/>";for(c=0;c<b.ExtraStrings.length;c++)a+=b.ExtraStrings[c]+d}a+="</div>";a+="</div>";e=dangerou$.parseHtml(a);e.on("click",'[data-function="toggleDetails"]',function(a){a.preventDefault();a.stopPropagation();e.find('[data-contents="details"]').toggle()});e.on("click",'[data-function="dismiss"]',function(a){a.preventDefault();a.stopPropagation();e.remove()});$afe.select("body").safeAppend(e)}}})});$$WP=$$WP||{};$$WP.Debug=$$WP.Debug||{};$$WP.Debug.UI=$$WP.Debug.UI||{};$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug._failedAssertions=0;$$WP.Debug._assertions=0;$$WP.Debug._errorCount=0;$$WP.Debug._$errorCountDisplay=null;$$WP.Debug.log=function WP$Debug$lgMsg(a,c){var b;a=a||"";if($$WP.Debug.IsEnabled)try{b=new Error(a);if(c&&console.trace){console.groupCollapsed($$WP.Debug.messagePrefix+a);console.trace();console.groupEnd()}else if(c&&"stack"in b){console.groupCollapsed($$WP.Debug.messagePrefix+a);console.log(b.stack);console.groupEnd()}else console.log($$WP.Debug.messagePrefix+a)}catch(d){}};$$WP.Debug.logError=function WP$Debug$lgErr(a,b){var c,d;a=a||"";if(typeof b!=="boolean")b=true;if(b){try{if(WP&&WP.DOM&&WP.DOM.Browser.isIE||WP.DOM.Browser.isEdge){console.groupCollapsed($$WP.Debug.messagePrefix+a);console.trace();console.groupEnd()}else console.error($$WP.Debug.messagePrefix+a,"");d=true}catch(e){try{c=new Error(a);if(c.stack.length>0){console.groupCollapsed($$WP.Debug.messagePrefix+a);console.error(c.stack,"");console.groupEnd();d=true}}catch(f){}}if(!d)try{console.error($$WP.Debug.messagePrefix+a,"")}catch(g){}}else try{console.error($$WP.Debug.messagePrefix+a,"")}catch(h){}$$WP.Debug._errorCount++;$$WP.Debug._updateErrorCountDisplay()};$$WP.Debug._updateErrorCountDisplay=function WP$Debug$_updateErrorCountDisplay(){if($$WP.Debug.IsEnabled){if($$WP.Debug._$errorCountDisplay===null){$$WP.Debug._$errorCountDisplay=$afe.jq(document.createElement("div"));$$WP.Debug._$errorCountDisplay.css({position:"absolute","background-color":"red",color:"white","font-weight":"bold",width:"auto",padding:"1px","margin-left":"2px","z-index":"1"});$afe.select("#header").safePrepend($$WP.Debug._$errorCountDisplay)}$$WP.Debug._$errorCountDisplay.empty();$$WP.Debug._$errorCountDisplay.text("Errors in console: "+$$WP.Debug._errorCount)}};$$WP.Debug.ShowNonProdBanner=function $$WP$Debug$ShowNonProdBanner(){var c,d;if(sessionStorage.HideNonProdBanner==="true")return;c=$$WP.Strings.get("NonProdErrorMessage","global");d=$$WP.Strings.get("NonProdErrorMessageDismissTitle","global");var b="",f,a,e;b+='<div id="nonProdBanner" style="position:relative; color:red; width:100%; text-align:center; padding:5px; background:repeating-linear-gradient(135deg, black, black 10px, gold 10px, gold 20px);">';b+='<strong><span style="padding: 0px 5px; background:black;">'+c+'&nbsp;<a href="#" style="color:red;" data-function="dismiss" title="'+d+'">[X]</a></span></strong>';b+="</div>";a=dangerou$.parseHtml(b);a.on("click",'[data-function="dismiss"]',function(b){sessionStorage.setItem("HideNonProdBanner","true");b.preventDefault();b.stopPropagation();$$WP.Debug.RemoveBanner(a)});$$WP.Debug.AddBanner(a)};$$WP.Debug.ShowAdminElevationBanner=function $$WP$Debug$ShowAdminElevationBanner(){var b="global",f,e,d,a,c;f=$$WP.Strings.get("AdminBannerText",b);d=$$WP.Strings.get("AdminBannerAction",b);e=$$WP.Strings.get("AdminBannerActionTitle",b);a='<div class="adminElevationBanner" id="adminElevationBanner">';a+='<strong><span style="padding: 0px 5px;">'+f+'&nbsp;[<a href="#"  data-function="endsession" ';a+='title="'+e+'">'+d+"</a>]</span></strong ></div >";c=dangerou$.parseHtml(a);c.on("click",'[data-function="endsession"]',$$WP.Debug.PromptToEndElevatedSession);$$WP.Debug.AddBanner(c)};$$WP.Debug.PromptToEndElevatedSession=function $$WP$Debug$PromptToEndElevatedSession(){var a="global",b,g,c,e,f,d;c=$$WP.Strings.get("AdminPopupConfirmButtonText",a);e=$$WP.Strings.get("AdminPopupCancelButtonText","gloal");f=$$WP.Strings.get("AdminPopupTitleText",a);d=$$WP.Strings.get("AdminPopupMessageText",a);b={ToolbarButtons:[{Text:c,Class:"completeworkflow"},{Text:e,Class:"cancelworkflow"}],TitleText:f,Html:d,IsClosable:true,callback:function(a){if(a){$$WP.Debug.ClearClipboard();this.dispose(true);window.location.href=makeLink("/Authentication/ServerAdmin/ClearElevation")}}};g=new $$WPComp.ConfirmComponent(b,{Size:$$WPContain.Popup.SizeEnum.SMALL});$$WPUtil.quickPopup(g)};$$WP.Debug.ClearClipboard=function $$WP$Debug$ClearClipboard(){var b,a,c;b='<input type="text" style="position:absolute; left:-999; top:-999" id="clearText" value=" " />';a=dangerou$.parseHtml(b);c=$afe.select("body");c.safePrepend(a);a.select();document.execCommand("copy");a.remove()};$$WP.Debug.AddBanner=function $$WP$Debug$AddBanner(a){$$WP.Debug.CreateBannerContainer();setTimeout(function(){$afe.select("#sitebanner").safePrepend(a);$$WP.Debug.UpdateTopMarginForBanners()},100)};$$WP.Debug.RemoveBanner=function $$WP$Debug$RemoveBanner(b){var a="#sitebanner";$afe.select(a).safeAttr("role","");b.remove();$afe.select(a).safeAttr("role","alert");$$WP.Debug.UpdateTopMarginForBanners()};$$WP.Debug.UpdateTopMarginForBanners=function $$WP$Debug$UpdateTopMarginForBanners(){var e=$afe.select("#wrap"),c=$afe.select("#header"),b=$afe.select("#content"),a=$afe.select(".titlebar"),d=$afe.select(".Popup");$$WP.Debug.UpdateTopMarginForBanner(e);$$WP.Debug.UpdateTopMarginForBanner(c);$$WP.Debug.UpdateTopMarginForBanner(b);$$WP.Debug.UpdateTopMarginForBanner(d);if($(document).width()<1300)$$WP.Debug.UpdateTopMarginForBanner(a);else a.length!==0&&a.css("margin-top",0)};$$WP.Debug.UpdateTopMarginForBanner=function $$WP$Debug$UpdateTopMarginForBanner(a){var c=$afe.select("#sitebanner"),b=c.height();a.length!==0&&a.css("margin-top",b)};$$WP.Debug.CreateBannerContainer=function $WP$Debug$CreateBannerContainer(){if($afe.select("#sitebanner").length!==0)return;var a="",b;a+='<div id="sitebanner" class="sitebanners" role="alert">';a+="</div>";b=dangerou$.parseHtml(a);$afe.select("body").safePrepend(b)};$$WP.Debug._synchronousAjax=function WP$Debug$_syncAjax(b,c){var a;if(typeof b==="object")a=b;else a=c;a=a||{};a.async=false;$$WP.Debug._oldAjax(b,a)};$$WP.Debug.makeAjaxSynchronous=function WP$Debug$mkAjaxSync(){if($$WP.Debug.IsEnabled){if($.ajax===$$WP.Debug._synchronousAjax)return;$$WP.Debug._oldAjax=$$WP.Debug._oldAjax||$.ajax||jQuery.ajax;$.ajax=$$WP.Debug._synchronousAjax}};$$WP.Debug.allowAjaxAsynchronous=function WP$Debug$alwAjaxAsync(){if($.ajax!==$$WP.Debug._synchronousAjax)return;$.ajax=$$WP.Debug._oldAjax};$$WP.Debug.UnitTest.assert=function WP$Debug$asrt(a,b){$$WP.Debug._assertions++;if(!a){$$WP.Debug._failedAssertions++;$$WP.Debug.logError(b,false)}};$$WP.Debug.UnitTest.assertValue=function WP$Debug$asrtVal(a,b,c){$$WP.Debug.UnitTest.assert(a===b,c+"(expected '"+a+"', got '"+b+"')")};$$WP.Debug.UnitTest.cssClassesMatch=function WP$Debug$cssClassesMatch(d,a){var b,c;b=d.safeAttr("class").split(" ");a=a.split(" ");if(a.length!==b.length)return false;b.sort();a.sort();for(c=0;c<b.length;c++)if(b[c]!==a[c])return false;return true};$$WP.Debug.UnitTest.resetCounters=function WP$Debug$rstCntrs(){$$WP.Debug._failedAssertions=0;$$WP.Debug._assertions=0};$$WP.Debug.UnitTest.getFailedAssertionCount=function WP$Debug$gtAsrtFailCnt(){return $$WP.Debug._failedAssertions};$$WP.Debug.UnitTest.runAll=function WP$Debug$untTst$rnAl(j){var n='<td style="font-size: 1.2rem; text-align: left; width: 70%; color: white; background-color: red">Test failed ',m="XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX Test Failed XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX";if($$WP.Debug.IsEnabled){var a,e,c,h,l,o,g,f,d,b,i,k;j=j||$afe.select("body");k=$$WP.SimpleTemplates.WarningIcon({"class":"",style:"margin-top: 3px;"});a=$afe.select("#WP-Debug-UnitTest-TestingRange");if(a.length!==0){e=a.find('table[name="resultsTable"]');e.empty();c=a.find('div[name="sandbox"]');c.empty()}else{a=$$WP.SimpleTemplates.Div({id:"WP-Debug-UnitTest-TestingRange"});e=dangerou$.parseHtml('<table name="resultsTable" style="width: 100%; margin: auto; background-color:white; border:1px solid black;"><tr style="border:1px solid black;"><th style="font-weight:bold; font-size:1.2rem;">Test name</th><th style="font-weight:bold; font-size:1.2rem;">Result</th></tr></table>');c=$$WP.SimpleTemplates.Div({name:"sandbox"});j.safeAppend(a);a.safeAppend(e);a.safeAppend(c)}for(h=0;h<$$WP.Debug.UnitTest.tests.length;h++){l=$$WP.Debug.UnitTest.tests[h];$$WP.Debug.UnitTest.resetCounters();i=false;try{l(c)}catch(p){$$WP.Debug.log(p.stack);i=true}f=$$WP.Debug.UnitTest.getFailedAssertionCount();d=$$WP.Debug._assertions;if(i){$$WP.Debug.log(m);b=dangerou$.parseHtml(n+f+" of "+d+" checks. Did not run the entire test due to an unhandled exception.<br/>See console for more details</td>");b.find("td").safePrepend(k)}else if(f>0){$$WP.Debug.log(m);b=dangerou$.parseHtml(n+f+" of "+d+" checks. See console for more details.</td>");b.find("td").safePrepend(k)}else if(d===0){$$WP.Debug.log("No test cases defined for this module.");b=dangerou$.parseHtml('<td style="font-size: 1.2rem; text-align: left; width: 70%; color: white; background-color: orange">No test cases defined for this module.</td>')}else b=dangerou$.parseHtml('<td style="font-size: 1.2rem; text-align: left; width: 70%; color: white; background-color: green">Test passed all '+d+" checks</td>");c.empty();g=dangerou$.parseHtml("<tr></tr>");o=l.name||"Test";g.safeAppend(dangerou$.parseHtml('<td style="width:30%; font-weight:bold; font-size:1.2rem; text-align:left;">'+o.replace(/UnitTests\$/,"")+"</td>"));g.safeAppend(b);e.safeAppend(g)}}};(function WP$Debug$Workflow(){var a={},b=function WP$Debug$Workflow(){},c={addMonitor:function WP$Debug$Workflow$addMonitor(c,b){if($$WP.Debug.IsEnabled)a[c]=b},getWorkflow:function WP$Debug$Workflow$get(b){return $$WP.Debug.IsEnabled&&a[b]?a[b]:undefined},removeMonitor:function WP$Debug$Workflow$removeMonitor(b){if($$WP.Debug.IsEnabled)delete a[b]}};b.prototype=c;$$WP.Debug.Workflow=$$WP.Debug.Workflow||new b})()
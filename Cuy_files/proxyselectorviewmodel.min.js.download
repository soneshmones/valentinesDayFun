(function ClassDefinition(){var h="@MYCHART@ALLOWEDAREAS@",g="@MYCHART@SUBJECT_PATIENTNAME@",d="ServiceAreas",f="backToTheHomePageTitleText",a="",e=false,b=true,c=$$WP.Strings.getNamespace("ProxySwitch.ProxySwitch.ProxySelector");$$WP.Utilities.guaranteeExistence($$WP,"ProxySwitch.Models");var i=function WP$ProxySwitch$Models$ProxySelectorViewModel$ProxySelectorViewModel(d){var a=this;a.WP$Common$Model(d);for(var c=0;c<a.ProxySubjectList.length;c++){var e=new $$WP.ProxySwitch.Models.ProxySubjectViewModel(a.ProxySubjectList[c]);a.ProxySubjectList[c]=e;if(a.ProxySubjectList[c].IsSelected)a.CurrentlySelected=a.ProxySubjectList[c]}if(a.ShowPhotoUpload===b){a.PhotoUploadMenuText=a._determinePhotoUploadText();a.PhotoUploadMenuTitleText=a._determinePhotoUploadMenuTitleText()}a.ButtonTitleText=a._determineButtonTitleText();a.ChangeShortcutsMenuText=a._determineChangeShortcutsMenuText();a.ChangeShortcutsTitleText=a._determineChangeShortcutsTitleText();a.HomeMenuText=a._determineHomeMenuText();a.HomeMenuTitleText=a._determineHomeMenuTitleText();a.ShowDropDown=!a.IsGuest};i.prototype={s_dataMembers:["ProxySubjectList","ShowPhotoUpload","IsGuest"],ProxySubjectList:null,CurrentlySelected:null,ShowPhotoUpload:e,PhotoUploadMenuText:a,ChangeShortcutsMenuText:a,ChangeShortcutsTitleText:a,HomeMenuText:a,ShowDropDown:e,ButtonTitleText:a,PhotoUploadMenuTitleText:a,IsGuest:e,resetPhotoUploadToFalse:function(){var a=this;a.ShowPhotoUpload=e;a.ButtonTitleText=a._determineButtonTitleText();a.ChangeShortcutsMenuText=a._determineChangeShortcutsMenuText();a.ChangeShortcutsTitleText=a._determineChangeShortcutsTitleText();a.HomeMenuText=a._determineHomeMenuText();a.HomeMenuTitleText=a._determineHomeMenuTitleText();a.ShowDropDown=a.ProxySubjectList.length>1},_determineButtonTitleText:function WP$ProxySwitch$Controllers$ProxySelectorViewModel$_determineButtonTitleText(){var a=this;return a.IsGuest?a.CurrentlySelected.TitleText:a.ProxySubjectList.length>1?a.CurrentlySelected.TitleText+"\n"+c.getString("selectToViewAnotherPersonsRecord"):a.ShowPhotoUpload?c.getString("uploadAPhotoTitleText"):c.getString(f)},_determinePhotoUploadMenuTitleText:function WP$ProxySwitch$Controllers$ProxySelectorViewModel$_determinePhotoUploadMenuTitleText(){var f=this,e=a;if(f.CurrentlySelected.IsSelf===b)if(f.CurrentlySelected.PhotoUrl)e="changePhotoMenuItemTitleText";else e="addPhotoMenuItemTitleText";else if(f.CurrentlySelected.PhotoUrl)e="changeSubjectsPhotoMenuItemTitleText";else e="addSubjectsPhotoMenuItemTitleText";if(f.CurrentlySelected.ServiceAreaAbbreviationList)e+=d;f._addMnemonics();var g=c.getString(e);f._removeMnemonics();return g},_determinePhotoUploadText:function WP$ProxySwitch$Models$ProxySelectorViewModel$_determinePhotoUploadText(){var f=this,e=a;if(f.CurrentlySelected.IsSelf===b)if(f.CurrentlySelected.PhotoUrl)e="changeMyPhotoMenuItem";else e="addMyPhotoMenuItem";else if(f.CurrentlySelected.PhotoUrl)e="changeSubjectsPhotoMenuItem";else e="addSubjectsPhotoMenuItem";if(f.CurrentlySelected.ServiceAreaAbbreviationList)e+=d;f._addMnemonics();var g=c.getString(e);f._removeMnemonics();return g},_determineChangeShortcutsMenuText:function WP$ProxySwitch$Models$ProxySelectorViewModel$_determineChangeShortcutsMenuText(){var f=this,e=a;if(f.CurrentlySelected.IsSelf===b)e="myChangeShortcutsMenuItem";else e="otherPersonsChangeShortcutsMenuItem";if(f.CurrentlySelected.ServiceAreaAbbreviationList)e+=d;f._addMnemonics();var g=c.getString(e);f._removeMnemonics();return g},_determineChangeShortcutsTitleText:function WP$ProxySwitch$Models$ProxySelectorViewModel$_determineChangeShortcutsTitleText(){var f=this,e=a;if(f.CurrentlySelected.IsSelf===b)e="myChangeShortcutsTitleText";else e="otherPersonsChangeShortcutsTitleText";if(f.CurrentlySelected.ServiceAreaAbbreviationList)e+=d;f._addMnemonics();var g=c.getString(e);f._removeMnemonics();return g},_determineHomeMenuText:function WP$ProxySwitch$Models$ProxySelectorViewModel$_determineHomeMenuText(){var e=this,f=a;if(!e.ProxySubjectList||e.ProxySubjectList.length<=1)f="homeMenuItem";else if(e.CurrentlySelected.IsSelf===b)f="myHomeMenuItem";else f="otherPersonsHomeMenuItem";if(e.CurrentlySelected.ServiceAreaAbbreviationList)f+=d;e._addMnemonics();var g=c.getString(f);e._removeMnemonics();return g},_determineHomeMenuTitleText:function WP$ProxySwitch$Models$ProxySelectorViewModel$_determineHomeMenuTitleText(){var e=this,g=a;if(!e.ProxySubjectList||e.ProxySubjectList.length<=1)g=f;else if(e.CurrentlySelected.IsSelf===b)var g="backToYourHomePageTitleText";else g="backToAnotherPersonsHomePageTitleText";if(e.CurrentlySelected.ServiceAreaAbbreviationList)g+=d;e._addMnemonics();var h=c.getString(g);e._removeMnemonics();return h},_addMnemonics:function WP$ProxySwitch$Models$ProxySelectorViewModel$_addMnemonics(){c.addMnemonic(g,this.CurrentlySelected.DisplayName,$$WP.Strings.EncodingTypes.None);c.addMnemonic(h,this.CurrentlySelected.ServiceAreaAbbreviationList,$$WP.Strings.EncodingTypes.None)},_removeMnemonics:function WP$ProxySwitch$Models$ProxySelectorViewModel$_removeMnemonics(){c.removeMnemonic(g);c.removeMnemonic(h)}};$$WP.ProxySwitch.Models.ProxySelectorViewModel=i;i.extend($$WP.Common.Model,"WP$ProxySwitch$Models$ProxySelectorViewModel")})()